### SysModuleEnum：有几个模块，就配置几个
```php
<?php  
  
namespace App\Enums;  
  
use LaravelDev\App\Traits\EnumTrait;  
  
/**  
 * @intro 系统模块  
 * @field module  
 */
enum SysModuleEnum: string  
{  
    use EnumTrait;  
  
    /**  
     * @label 管理员  
     * @color #cf1322  
     */
    case Admin = 'Admin';  
  
    /**  
     * @label 机构  
     * @color #389e0d  
     */    
     case Company = 'Company';  
  
    /**  
     * @label 客户  
     * @color #d4b106  
     */    
     case Customer = 'Customer';  
}
```

## config/auth.php 增加模块的守卫

```diff
<?php  
  
use App\Models\Admins;  
use App\Models\CompanyAdmins;  
  
return [  
  
    'defaults' => [  
        'guard' => env('AUTH_GUARD', 'web'),  
        'passwords' => env('AUTH_PASSWORD_BROKER', 'users'),  
    ],  
  
    'guards' => [  
        'web' => [  
            'driver' => 'session',  
            'provider' => 'users',  
        ],  
+        'Admin' => [  
+            'driver' => 'sanctum',  
+            'provider' => 'Admin',  
+            'hash' => false,  
+        ],  
+        'Company' => [  
+            'driver' => 'sanctum',  
+            'provider' => 'Company',  
+            'hash' => false,  
+        ],  
    ],  
  
    'providers' => [  
        'users' => [  
            'driver' => 'eloquent',  
            'model' => env('AUTH_MODEL', App\Models\WechatUsers::class),  
        ],  
  
+         'Admin' => [  
+             'driver' => 'eloquent',  
+             'model' => Admins::class,  
+         ],  
  
+         'Company' => [  
+             'driver' => 'eloquent',  
+             'model' => CompanyAdmins::class,  
+         ],  
    ],  
];
```

## config/project.php 配置guards
```
'guards' => [  
    'admins' => 'Admin',  
    'company_admins' => 'Company',  
    'wechat_users' => 'Customer',  
],
```

表名（模型）对应的守卫，这样在自动生成模型的时候，model会自动增加如下代码
```diff
<?php  
  
namespace App\Models\Base;  
  
use Illuminate\Database\Eloquent\Factories\HasFactory;  
use Spatie\Permission\Traits\HasRoles;  
use Laravel\Sanctum\HasApiTokens;  
  
/**  
 * @property integer $id  
 * @property string $username  
 * @property string $password  
 * @property string $last_login_ip  
 * @property string $last_login_at  
 * @property string $remember_token  
 * @property mixed $created_at  
 * @property mixed $updated_at  
 */  
class BaseAdmins extends Base  
{  
    use HasFactory;  
    use HasRoles;  
+    use HasApiTokens;  
  
    protected $table = 'admins';  
    protected string $comment = '管理员';  
    protected $fillable = ['username', 'password', 'last_login_ip', 'last_login_at', 'remember_token'];  
    protected $hidden = ['password'];  
+    protected string $guard_name = 'Admin';  
  
      
    # relations  
  
}
```

### 再看下route:list -v